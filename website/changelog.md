# 更新日誌

此頁面記錄 Mediator 的版本更新內容。

## v0.26.2

_2026-01-28_

### 新功能
- **備份傳輸**: JSON 匯出匯入與 WebRTC P2P 傳輸全面支援旁白音頻（逐字稿 + 音頻檔案），匯出格式版本升級至 v3（向下相容 v2）
- **歷史紀錄**: 含旁白音頻的簡報在縮圖上顯示音頻指示器圖標

### 修復
- **旁白語音**: 修正 TTS prompt 缺少明確語言與口音指令的問題，改用 explicit 語言/口音 directive
- **MP4 匯出**: 修正音頻解碼在 Worker 中失敗的問題，改為主執行緒解碼；限制 AVC 編碼解析度上限
- **國際化**: 改善溫度設定提示文字的清晰度

### 文件
- 新增貼圖邊緣侵蝕與網格裁切工具文件
- 新增 MP4 匯出與音頻指示器至簡報與歷史紀錄文件
- 新增備份相容性指南，說明新增檔案類型的處理方式

## v0.26.1

_2026-01-28_

### 新功能
- **貼圖**: 新增「邊緣侵蝕」控制項（0/1/2/3px），可在去背後移除邊界殘留像素，減少顆粒感
- **貼圖**: 背景移除演算法從 4-connected 升級為 8-connected flood fill，更徹底地去除對角縫隙中的背景

### 修復
- **貼圖**: Edit mode 手動去背改為 8-connected flood fill，與自動去背行為保持一致

## v0.26.0

_2026-01-28_

### 新功能
- **簡報旁白語音**: 新增 TTS 旁白音頻生成功能，支援單人獨白與雙人對話（討論、批判、辯論風格）
- **簡報旁白語音**: AI 自動撰寫逐字稿，支援檢視與編輯；敘事結構自動安排開場白與結尾陳述
- **簡報旁白語音**: 圖片生成與 TTS 語音平行執行（Promise.allSettled），部分頁面失敗不影響其他頁面
- **簡報旁白語音**: 生成結果每張圖片下方顯示迷你音頻播放器即時預覽
- **簡報旁白語音**: Lightbox 底部顯示音頻播放器，下載選單新增「旁白音頻」區塊（下載當前 / 全部 ZIP）
- **簡報旁白語音**: ZIP 下載自動包含旁白音頻檔案（narration-1.mp3 等）
- **簡報旁白語音**: 歷史紀錄載入時自動從 OPFS 還原旁白音頻
- **元件**: 新增 SearchableSelect 可搜尋下拉選單元件（支援分組、鍵盤導航）

### 修復
- **音頻編碼**: MP3 編碼失敗時自動退回 WAV 格式，確保音頻不遺失
- **音頻編碼**: 透過 `?raw` import + `new Function()` 包裝 lamejs，解決 Vite CJS 打包相容性問題
- **Lightbox**: 音頻播放器改為 absolute 定位，避免擠壓圖片；使用固定淺色配色確保深色背景可見度

### 文件
- 更新簡報生成與歷史紀錄文件，涵蓋旁白語音功能說明

## v0.25.23

_2026-01-28_

### 新功能
- **貼圖**: 新增「貼圖網格裁切」獨立工具頁面，可上傳外部平台產生的網格貼圖進行裁切去背
- **貼圖**: 在貼圖模式下新增網格裁切工具入口卡片

### 文件
- **文件網站**: 首頁靜態圖片替換為循環影片與淡入淡出轉場效果

## v0.25.22

_2026-01-27_

### 修復
- **文件網站**: 修復觸控裝置雙擊回位失效問題（新增 double-tap 偵測）

## v0.25.21

_2026-01-27_

### 新功能
- **文件網站**: 3D 香蕉模型新增拖拽旋轉物理效果（慣性 + 摩擦力），支援滑鼠與觸控，雙擊平滑回位；同時保留原有的滑鼠跟隨效果

## v0.25.20

_2026-01-26_

### 文件
- 在 README 新增 Local-First / BYOK 價值主張段落

### 修復
- **簡報轉換**: 使用 aspect-ratio 自適應字型大小計算，修正直式文字字型過大問題

### 移除
- 移除 Google Analytics 4 追蹤，與「無中間人」隱私優先理念保持一致

## v0.25.19

_2026-01-25_

### 文件
- 新增更新日誌頁面，涵蓋 v0.1.0 ~ v0.25.18 完整版本歷史
- 新增 changelog 維護工作流程說明至 CLAUDE.md

## v0.25.18

_2026-01-25_

### 新功能
- **簡報轉換**: 新增離開頁面確認提示，防止意外遺失未下載的結果
- **文件**: 在獨立工具頁面新增「試試看」按鈕

## v0.25.17

_2026-01-25_

### 文件
- 新增簡報轉換去背前後對比圖片

### 修復
- **OCR**: 修正梯形區域的旋轉感知換行偵測

## v0.25.16

_2026-01-25_

### 新功能
- **區域編輯器**: 新增鍵盤快捷鍵（Delete 刪除、Escape 取消選取）

### 修復
- **區域編輯器**: 修正縮放控制點點擊優先權問題
- **OCR**: 改善多邊形區域合併，防止自我交叉

### 文件
- 新增鍵盤快捷鍵說明章節

## v0.25.15

_2026-01-25_

### 新功能
- **簡報轉換**: 新增梯形模式，支援傾斜文字區域

### 文件
- 新增梯形模式說明與截圖

## v0.25.14

_2026-01-24_

### 新功能
- **文件**: 新增 3D 香蕉模型觸控支援，並調整燈光效果

## v0.25.13

_2026-01-24_

### 修復
- **文件**: 修正 GitHub Pages 上 3D 模型路徑

## v0.25.12

_2026-01-24_

### 新功能
- **文件**: 首頁 Hero 區新增 3D 香蕉模型

### 修復
- **文件**: 修正「返回應用程式」連結，並調整標語換行

## v0.25.11

_2026-01-24_

### 修復
- **手繪**: 修正平移模式下不應出現選取框的問題

### 文件
- 新增 medium-zoom 燈箱效果
- 新增 DeepWiki 技術文件連結
- 修正多個頁面的誤導性文件內容

## v0.25.10

_2026-01-24_

### 修復
- **文件**: 修正 TryItButton 中的換行字元處理

## v0.25.9

_2026-01-24_

### 修復
- **文件**: 將多行 TryItButton 提示詞轉換為單行

## v0.25.8

_2026-01-24_

### 新功能
- **簡報轉換**: 新增 Gemini 重新處理確認對話框，防止意外 API 費用

## v0.25.7

_2026-01-24_

### 新功能
- **深度連結**: 支援 URL 查詢參數，可從文件直接跳轉到應用程式特定功能

### 文件
- 各功能頁面新增「試試看」按鈕
- 新增 API Key 影片教學
- 簡報轉換頁新增 NotebookLM 等應用場景說明

## v0.25.6

_2026-01-24_

### 效能優化
- 延遲載入手繪畫布元件，減少首頁載入大小

### 修復
- **文件**: 修正 sitemap 替代語言連結，新增 GA4 追蹤

## v0.25.5

_2026-01-24_

### 修復
- **PWA**: 排除 /docs/ 路徑，避免 Service Worker 導航問題

## v0.25.4

_2026-01-24_

### 修復
- **文件**: 修正 sitemap URL 的 base path

## v0.25.3

_2026-01-23_

### 修復
- **部署**: 修正 VitePress outDir 路徑

## v0.25.2

_2026-01-23_

### 重構
- 簡化 VitePress base path 偵測邏輯

## v0.25.1

_2026-01-23_

### 新功能
- 新增文件連結與導覽步驟

## v0.25.0

_2026-01-23_

### 重大更新
- **文件網站**: 新增 VitePress 文件網站
- **故事模式**: 使用前一步的圖片作為參考，維持角色連貫性
- **SEO**: 新增 sitemap 索引（應用程式與文件）

### 修復
- **i18n**: 補充缺失的影片錯誤訊息翻譯

---

## 較早版本

### v0.24.x - 手繪畫布與簡報轉換增強

_2026-01-20 ~ 2026-01-23_

- **v0.24.11** _(01-23)_: 修正 Web Worker 中 PDF.js 的 mock document、PPTX 圖片比例保持
- **v0.24.10** _(01-22)_: 手繪功能 UX 改善：導航守衛與顏色選擇器重新定位
- **v0.24.9** _(01-22)_: 新增手繪畫布平移工具
- **v0.24.8** _(01-22)_: 修正行動裝置上參考圖片與角色庫的版面重疊
- **v0.24.0** _(01-20)_: 簡報轉換設定行為文件、Gemini 確認彈窗、WYSIWYG 設定、故事模式部分成功處理

### v0.23.x - SEO 與 OCR 模型選擇

_2026-01-19_

- **v0.23.7**: 修正貼圖裁切按鈕 SVG、無障礙標籤、LCP 優化
- **v0.23.6**: 新增靜態 HTML 生成與每頁 SEO meta 標籤
- **v0.23.5**: PWA 修正、canonical URL 防重複內容
- **v0.23.4**: 新增 JSON-LD 結構化資料、SPA 路由修正
- **v0.23.3**: Toast 滑動關閉手勢、區域選取工具、beforeunload 保護
- **v0.23.2**: 燈箱編輯區域按鈕、OCR 模型大小選擇（Server/Mobile）自動降級
- **v0.23.1**: 智慧捲動（使用者向上捲動時停止自動捲動）、Free Tier API Key 分流
- **v0.23.0**: PPTX 動態文字顏色提取

### v0.22.x - 區域編輯器與 OCR 統一架構

_2026-01-18 ~ 2026-01-19_

- **v0.22.3** _(01-19)_: 區域編輯器復原/重做功能
- **v0.22.2** _(01-19)_: 分隔線工具、縮放放大鏡
- **v0.22.1** _(01-18)_: 高度為基準的字體大小計算
- **v0.22.0** _(01-18)_: Canvas 測量字體大小、CPU/GPU OCR 統一架構

### v0.21.x - WebGPU OCR 與區域編輯

_2026-01-17 ~ 2026-01-18_

- **v0.21.5** _(01-18)_: GPU 記憶體不足時自動降級到 CPU
- **v0.21.4** _(01-18)_: 純 XY-Cut 版面分析、修正 BGR 順序
- **v0.21.3** _(01-17)_: WebGPU 偵測改善
- **v0.21.2** _(01-17)_: 清除模型快取功能、行動裝置 WebGPU 支援
- **v0.21.1** _(01-17)_: 可拖曳區域編輯工具列、自動產生 PPTX 檔名
- **v0.21.0** _(01-17)_: 手動 OCR 區域編輯、Tesseract.js 備援、統一 OCR 介面

### v0.20.x - 簡報轉 PPTX 轉換器

_2026-01-16_

- **v0.20.3**: 排除圖片資料於 localStorage 持久化
- **v0.20.2**: 簡報模式中新增 PPTX 轉換器橫幅
- **v0.20.1**: 檔案上傳模式、處理計時器、OCR JSON 覆蓋層
- **v0.20.0**: 簡報轉 PPTX 轉換器、雙 API Key 管理、圖片比較彈窗

### v0.19.x - AI 內容分割器

_2026-01-15_

- **v0.19.0**: AI 內容分割彈窗、每頁風格指引、生成進度條與 ETA

### v0.18.x - 簡報模式

_2026-01-15_

- **v0.18.0**: 簡報模式，支援參考圖片

### v0.17.x - 影片生成與品牌重塑

_2026-01-14 ~ 2026-01-15_

- **v0.17.3** _(01-15)_: 重構影片 metadata
- **v0.17.2** _(01-15)_: 圖片生成遷移至 @google/genai SDK
- **v0.17.1** _(01-15)_: 移除 generateAudio（Gemini API 不支援）
- **v0.17.0** _(01-14)_: 影片生成模式（Veo 3.1 API）、品牌重塑為 Mediator

### v0.16.x - 角色庫儲存遷移

_2026-01-14_

- **v0.16.0**: 角色圖片遷移至 OPFS

### v0.15.x - 使用者導覽

_2026-01-12 ~ 2026-01-13_

- **v0.15.5** _(01-13)_: 防止貼圖裁切時意外資料遺失
- **v0.15.4** _(01-13)_: 修正導覽提示與生成按鈕重疊
- **v0.15.3** _(01-13)_: 歷史紀錄依生成模式篩選
- **v0.15.2** _(01-13)_: 允許不完全符合規範時下載
- **v0.15.1** _(01-12)_: 行動裝置導覽與角色資訊響應式版面
- **v0.15.0** _(01-12)_: 新使用者導覽、主題類型圖示、主題下拉選單自動捲動

### v0.14.x - 季節主題

_2026-01-12_

- **v0.14.0**: 新增季節主題（春、夏、秋、冬）

### v0.13.x - 更多主題

_2026-01-11 ~ 2026-01-12_

- **v0.13.3** _(01-12)_: 統一模式顏色為品牌色
- **v0.13.2** _(01-12)_: 淺色主題深色覆蓋層徽章使用白色文字
- **v0.13.1** _(01-12)_: 新增 Matcha、Gruvbox、Everforest 主題
- **v0.13.0** _(01-11)_: 新增 Espresso、Mocha、Nord 主題

### v0.12.x - 主題系統完善

_2026-01-11_

- **v0.12.1**: 消除主題切換動畫結束時的閃爍
- **v0.12.0**: 新增暖色主題、語意色彩 token

### v0.11.x - 語意色彩 Token

_2026-01-11_

- **v0.11.1**: 貼圖工具淺色模式文字可見性、主題系統增強
- **v0.11.0**: 主題系統模組化重構、語意色彩 token 遷移

### v0.10.x - LINE 貼圖封面與程式碼重構

_2026-01-10 ~ 2026-01-11_

- **v0.10.4** _(01-11)_: 抽取 HistoryTransfer 為模組化元件
- **v0.10.3** _(01-11)_: 抽取 LineStickerToolView 為模組化元件
- **v0.10.2** _(01-11)_: 抽取 ImageLightbox 為模組化 composables
- **v0.10.1** _(01-11)_: 抽取 usePeerSync、StickerCropper 為模組化 composables
- **v0.10.0** _(01-10)_: LINE 貼圖封面圖、偶數尺寸支援

### v0.9.x - 角色萃取與 LINE 貼圖工具

_2026-01-09_

- **v0.9.2**: 切換貼圖時保留編輯模式設定
- **v0.9.1**: WebRTC 同步支援角色資料
- **v0.9.0**: 角色萃取功能、LINE 貼圖規範工具

### v0.8.x - 深色主題重設計

_2026-01-09_

- **v0.8.0**: Slate Blue Pro 深色主題

### v0.7.x - WebRTC 同步與批次下載

_2026-01-07 ~ 2026-01-09_

- **v0.7.13** _(01-09)_: Bundle 大小優化、程式碼分割與延遲載入
- **v0.7.12** _(01-09)_: 貼圖裁切器二次去背增強
- **v0.7.11** _(01-08)_: Toast 淺色模式高對比設計
- **v0.7.10** _(01-08)_: 淺色模式勾選框顏色統一、選擇性匯出/同步
- **v0.7.9** _(01-08)_: TURN 開關、自動斷線、主題修正
- **v0.7.8** _(01-08)_: 修正傳輸統計準確性、per-record ACK、背壓控制
- **v0.7.7** _(01-07)_: TURN 設定遷移至 Cloudflare API
- **v0.7.6** _(01-07)_: P2P 跨裝置同步（含 TURN 支援）
- **v0.7.5** _(01-07)_: 統一燈箱下載選單、主題修正
- **v0.7.4** _(01-07)_: 移除 IndexedDB 設定 store 死碼
- **v0.7.3** _(01-07)_: 歷史紀錄 ZIP/PDF 批次下載、匯出/匯入功能
- **v0.7.2** _(01-07)_: 歷史紀錄時間戳完整日期提示
- **v0.7.1** _(01-07)_: 新增 CLAUDE.md、dayjs 相對時間
- **v0.7.0** _(01-07)_: PDF 批次下載（Web Worker）、貼圖唯一檔名

### v0.6.x - GA4 追蹤與 PWA

_2026-01-05 ~ 2026-01-06_

- **v0.6.7** _(01-06)_: 貼圖裁切器返回手勢支援
- **v0.6.6** _(01-06)_: 版本號更新通知
- **v0.6.5** _(01-06)_: 還原為投影式貼圖分割（YAGNI）
- **v0.6.4** _(01-06)_: PWA 動態主題色、CCL 過濾優化
- **v0.6.3** _(01-06)_: 貼圖分割 Web Worker + CCL 演算法優化
- **v0.6.2** _(01-06)_: PWA 支援
- **v0.6.1** _(01-05)_: Google Analytics 4 追蹤
- **v0.6.0** _(01-05)_: 程式碼大重構與 DRY 改善

### v0.5.x - 貼圖模式與國際化

_2026-01-04 ~ 2026-01-05_

- **v0.5.5** _(01-05)_: SEO meta 標籤、GitHub Pages 部署
- **v0.5.4** _(01-05)_: 抽取 GitHubLink 元件
- **v0.5.3** _(01-04)_: 貼圖處理覆蓋層動畫、BFS flood fill 優化
- **v0.5.2** _(01-04)_: 貼圖裁切器版面與捲動改善
- **v0.5.1** _(01-04)_: 貼圖裁切器行動裝置版面
- **v0.5.0** _(01-04)_: 貼圖模式（含裁切與進階選項）

### v0.4.x - OPFS 圖片儲存

_2026-01-04_

- **v0.4.2**: 忽略 .gemini-clipboard 目錄
- **v0.4.1**: 生成歷史對齊與捲軸間距調整
- **v0.4.0**: OPFS 圖片儲存、WebP 壓縮

### v0.3.x - 觸控手勢

_2026-01-03_

- **v0.3.0**: 燈箱觸控手勢支援

### v0.2.x - Hero 區段

_2026-01-03_

- **v0.2.0**: Hero 區段動畫與滾動效果

### v0.1.x - 初始版本

_2026-01-03_

- **v0.1.0**: 初始版本
  - AI 圖片生成（Gemini API）
  - 多圖上傳、燈箱縮放/平移
  - 思考過程顯示、Toast 通知
  - 歷史紀錄儲存
